<!DOCTYPE html> 
<html lang="en"> 
<head> 
<meta charset="UTF-8" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<title>عائشة سيف Bubble Burst Timer</title> 

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700&family=Poppins:wght@400;600;700&family=Amiri:wght@700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> 

<style> 
/* Global Reset and Body Styling */ 
*{box-sizing:border-box;margin:0;padding:0} 
body{ 
  height:100vh; 
  display:flex; 
  flex-direction:column; 
  justify-content:center; 
  align-items:center; 
  font-family:'Poppins',sans-serif; 
  text-align:center; 
  color:#fff; 
  overflow:hidden; 
  background: #060910; 
  position: relative; 
} 

/* Starfield Logic (Kept) */ 
.starfield { 
  position: absolute; 
  top: 0; 
  left: 0; 
  width: 100%; 
  height: 100%; 
  pointer-events: none; 
  z-index: -1; 
} 
@keyframes twinkle { 
  0% { transform: scale(0.5) translateY(0); opacity: 0.1; } 
  50% { transform: scale(1.1) translateY(-5px); opacity: 0.8; } 
  100% { transform: scale(0.5) translateY(0); opacity: 0.1; } 
} 
.star { 
  position: absolute; 
  background: #fff; 
  border-radius: 50%; 
  box-shadow: 0 0 5px 1px rgba(0,255,255,0.7); 
  opacity: 0; 
  animation-name: twinkle; 
  animation-iteration-count: infinite; 
} 

/* SCOREBOARD STYLING (Kept) */ 
#scoreboard { 
    position: absolute; 
    top: 20px; 
    right: 30px; 
    padding: 8px 15px; 
    font-size: 1.2rem; 
    font-weight: 700; 
    color: #00ffe0; 
    background: rgba(0, 0, 0, 0.4); 
    border: 2px solid #00aaff; 
    border-radius: 10px; 
    box-shadow: 0 0 15px rgba(0, 255, 255, 0.5); 
    z-index: 20; 
} 
#score-value { 
    color: #ffcc00; 
    text-shadow: 0 0 5px #ffcc00; 
} 

/* Heading 1 (Arabic Name) Styling (Kept) */ 
@keyframes glow{ 
  0%,100%{text-shadow:0 0 25px #00aaff,0 0 45px #0088ff} 
  50%{text-shadow:0 0 15px #00b3ff,0 0 30px #00aaff} 
} 
h1{ 
  font-family:'Amiri', 'Cairo', sans-serif; 
  font-size:2.5rem; 
  background-image: linear-gradient(45deg, #00ffe0, #00aaff); 
  -webkit-background-clip: text; 
  -webkit-text-fill-color: transparent; 
  background-clip: text; 
  text-fill-color: transparent; 
  animation:glow 3s ease-in-out infinite; 
  letter-spacing:3px; 
  margin-bottom:10px; 
  z-index: 10; 
} 

/* ------------------------------------------------ */ 
/* --- DROPDOWN STYLES --- */ 
/* ------------------------------------------------ */ 
#dropdown-menu-container { 
    position: absolute; 
    top: 20px; 
    left: 30px; 
    z-index: 20; 
} 

/* Hamburger Menu Icon */ 
#dropdown-icon { 
    font-size: 1.8rem; 
    color: #00ffe0; 
    cursor: pointer; 
    text-shadow: 0 0 10px rgba(0, 255, 255, 0.5); 
    transition: color 0.3s; 
} 
#dropdown-icon:hover { 
    color: #ffcc00; 
} 

#stopwatch-selector { 
    display: none; /* Hidden by default */ 
    position: absolute; 
    top: 35px; /* Position below the icon */ 
    left: 0; 
    background: rgba(10, 20, 30, 0.95); 
    border: 1px solid #00aaff; 
    border-radius: 8px; 
    box-shadow: 0 4px 15px rgba(0, 255, 255, 0.5); 
    padding: 10px 0; 
    min-width: 220px; 
    text-align: left; 
} 

.dropdown-item { 
    padding: 8px 15px; 
    font-size: 1rem; 
    color: #c9f9ff; 
    cursor: pointer; 
    transition: background-color 0.2s, color 0.2s; 
} 
.dropdown-item:hover, .dropdown-item.active { 
    background-color: #00aaff; 
    color: #060910; 
    font-weight: 700; 
} 

/* ------------------------------------------------ */ 
/* --- STOPWATCH STYLES --- */ 
/* ------------------------------------------------ */ 
/* Container for all timers */ 
#stopwatch-display-container { 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    gap: 12px; 
    z-index: 10; 
    margin-top: 20px; 
} 

/* Base style for the active timer box */ 
.timer{ 
  background:rgba(255,255,255,.15); 
  border:1px solid rgba(255,255,255,.25); 
  border-radius:15px; 
  box-shadow:0 0 30px rgba(0,255,255,.2); 
  backdrop-filter:blur(10px); 
  padding:15px 30px; 
  transition:transform .4s,box-shadow .4s; 
  z-index: 10; 
  cursor: pointer; 
} 
.timer:hover{ 
  transform:scale(1.02); 
  box-shadow:0 0 50px rgba(0,255,255,.35); 
} 
.timer span{ 
  display:inline-block; 
  margin:5px 10px; 
  font-size:1.0rem; 
  color:#d6faff; 
} 
.timer-content { 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
} 

/* Style for the Hidden Title */ 
.timer-title { 
    font-size: 1.2rem; 
    font-weight: 700; 
    color: #ffcc00; 
    margin-bottom: 5px; 
    opacity: 0; 
    transition: opacity 0.5s ease; 
    cursor: pointer; 
} 

/* Style for the Glowing/Visible Title on Click */ 
.timer-title.visible { 
    opacity: 1; 
    text-shadow: 0 0 10px #ffcc00, 0 0 20px #ffaa00; 
} 

/* Style for the actual date/time text */ 
.timer-title.date-view { 
    font-size: 1rem; /* Slightly smaller for date detail */ 
    font-weight: 400; 
    white-space: nowrap; 
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.5); /* Different glow for date */ 
    color: #c9f9ff; 
} 

/* Highlighted Digits Styling with Gradient */ 
.highlight{ 
  display:block; 
  font-size:1.5rem; 
  font-weight:700; 
  background-image: linear-gradient(45deg, #00ffe0, #00aaff); 
  -webkit-background-clip: text; 
  -webkit-text-fill-color: transparent; 
  background-clip: text; 
  text-fill-color: transparent; 
  text-shadow:0 0 8px rgba(0,255,255,.4); 
} 

footer{ 
  margin-top:20px; 
  font-size:.9rem; 
  color:#a3f8ff; 
  text-shadow:0 0 8px rgba(0,255,255,.3); 
  z-index: 10; 
} 

/* Floating Name Bubbles (kept) */ 
.name-bubble{ 
  position:absolute; 
  bottom:-50px; 
  font-family:'Cairo',sans-serif; 
  font-size:2rem; 
  cursor: pointer; 
  background-image: linear-gradient(45deg, #00ffe0, #00aaff); 
  -webkit-background-clip: text; 
  -webkit-text-fill-color: transparent; 
  background-clip: text; 
  text-fill-color: transparent; 
  opacity:0.8; 
  animation:floatUp linear infinite; 
  white-space:nowrap; 
  text-shadow:0 0 20px rgba(0,255,255,0.6); 
  pointer-events: auto; 
  transition: opacity 0.1s, transform 0.1s; 
  user-select: none; 
} 
@keyframes burst { 
    0% { transform: scale(1.1); opacity: 1; } 
    100% { transform: scale(2); opacity: 0; } 
} 
.bubble-burst { 
    animation-name: burst !important; 
    animation-duration: 0.3s !important; 
    animation-timing-function: ease-out !important; 
    pointer-events: none; 
} 
@keyframes floatUp{ 
  0%{transform:translateY(0) translateX(0) scale(1);opacity:0.9} 
  50%{transform:translateY(-60vh) translateX(15px) scale(1.1);opacity:0.7} 
  100%{transform:translateY(-120vh) translateX(-15px) scale(1.3);opacity:0} 
} 
</style> 
</head> 
<body> 
<div class="starfield" id="starfield"></div> 

<div id="scoreboard">Score: <span id="score-value">0</span></div> 

<div id="dropdown-menu-container"> 
<i class="fas fa-bars" id="dropdown-icon" onclick="toggleDropdown()"></i> 
<div id="stopwatch-selector"> 
</div> 
</div> 

<h1>عائشة سيف قادري</h1> 

<div id="stopwatch-display-container"> 

<div id="active-stopwatch"> 
</div> 

<footer>Counting the moments...</footer> 

</div> 

<audio id="bubble-sound" src="data:audio/mp3;base64,SUQzBAAAAAABVVZFVFdTU0U0LjExNgAAABhMQU1FMy45OS41qT0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/uQZkAAAGcAAAASWYNQQFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVT//6uQQEAAASAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/7yZqgAAARkAAAAAAAAAAAAP/6uQQkAAASAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/vJmrAAAApAAAAAAAAAAAAAASQQmJbW5n//yFVgAUAAAPeAAAAv4qgRkNE/+5CmkQAAARsAAAATWQU9lTEuOTkuNURVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVD/7kKdDAAAARoAAAAUWdY/4JkREg4aAABlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP+8maQAAAC8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/7yZpQAAADoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs/7yZpQAAAE4AAAATWdY/4JkRFRUeQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAP+5CnEQAAABeAAAAUWdFMy45OS41VgABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=" preload="auto"></audio> 

<script> 
// --- GLOBAL GAME STATE & CONSTANTS --- 
let score = 0; 
const scoreboard = document.getElementById('score-value'); 
const names = ["عائشة", "سيف"]; 
const bubbleSound = document.getElementById('bubble-sound'); 

// FINAL UPDATE: 'story' time changed to 20:54. 'lastcontact' renamed to 'nocontact'.
const stopwatchData = [ 
    { id: 'story', title: 'Since Story Begins', start: '2024-06-13T20:54:00' }, 
    { id: 'phone', title: 'Since Last Phone Call', start: '2025-11-13T18:32:00' }, 
    { id: 'sms', title: 'Since Last SMS', start: '2025-11-11T11:11:00' }, 
    { id: 'video', title: 'Since Last Video Call', start: '2025-10-10T16:04:45' }, 
    { id: 'saw', title: 'Since Last Saw Her', start: '2025-11-11T13:22:00' }, 
    { id: 'meet', title: 'Since Last Meet', start: '2025-10-06T18:00:00' },
    // RENAMED
    { id: 'nocontact', title: 'Since No Contact', start: '2025-11-13T18:32:18' } 
]; 
let activeStopwatchId = stopwatchData[0].id; // Default to the first one 

// Utility function to format the Date object into a readable string 
function formatDateForDisplay(dateString) { 
    const date = new Date(dateString); 
    
    // Options for Date part (Month, Day, Year)
    const dateOptions = { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric'
    };
    
    // Options for Time part (24-hour format)
    const timeOptions = { 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit', 
        hour12: false 
    };
    
    return date.toLocaleDateString('en-US', dateOptions) 
           + ' ' 
           + date.toLocaleTimeString('en-US', timeOptions); 
} 

// --- DROPDOWN LOGIC (Kept) --- 
function toggleDropdown() { 
    const selector = document.getElementById('stopwatch-selector'); 
    selector.style.display = selector.style.display === 'block' ? 'none' : 'block'; 
} 

function selectStopwatch(id) { 
    activeStopwatchId = id; 
    toggleDropdown(); 
    renderActiveStopwatch(); 
} 

function generateDropdown() { 
    const selector = document.getElementById('stopwatch-selector'); 
    selector.innerHTML = ''; 
    stopwatchData.forEach(data => { 
        const item = document.createElement('div'); 
        item.className = 'dropdown-item'; 
        item.textContent = data.title; 
        item.setAttribute('data-id', data.id); 
        if (data.id === activeStopwatchId) { 
            item.classList.add('active'); 
        } 
        item.onclick = () => selectStopwatch(data.id); 
        selector.appendChild(item); 
    }); 
} 

// --- STARFIELD & BUBBLE LOGIC (Kept) --- 
for (let i = 0; i < 150; i++) { 
  const star = document.createElement('div'); 
  star.className = 'star'; 
  const size = Math.random() * 2 + 1; 
  star.style.width = `${size}px`; 
  star.style.height = `${size}px`; 
  star.style.top = `${Math.random() * 100}%`; 
  star.style.left = `${Math.random() * 100}%`; 
  star.style.animationDelay = `${Math.random() * 15}s`; 
  star.style.animationDuration = `${Math.random() * 8 + 7}s`; 
  document.getElementById('starfield').appendChild(star); 
} 

function burstBubble(event) { 
    const el = event.currentTarget; 
    score += 10; 
    scoreboard.textContent = score; 
    bubbleSound.currentTime = 0; 
    bubbleSound.play().catch(e => { 
        console.log("Audio playback prevented:", e); 
    }); 
    el.classList.add('bubble-burst'); 
    setTimeout(() => el.remove(), 300); 
} 

function createNameBubble() { 
    const el = document.createElement('div'); 
    el.className = 'name-bubble'; 
    el.textContent = names[Math.floor(Math.random() * names.length)]; 
    el.style.left = Math.random() * 100 + '%'; 
    el.style.fontSize = (Math.random() * 1.5 + 1.5) + 'rem'; 
    el.style.animationDuration = (6 + Math.random() * 8) + 's'; 
    el.addEventListener('click', burstBubble); 
    el.addEventListener('touchstart', (e) => { 
        e.preventDefault(); 
        burstBubble(e); 
    }); 
    document.body.appendChild(el); 
    setTimeout(() => { 
        if(el.parentElement) { 
            el.remove(); 
        } 
    }, (6 + 8) * 1000 + 1000); 
} 

setInterval(createNameBubble, 900); 
for (let i=0; i<10; i++) setTimeout(createNameBubble, i*500); 

// --------------------------------------------- 
// --- STOPWATCH LOGIC (FIXED) --- 
// --------------------------------------------- 

// Function to handle title cycling (Title <-> Date) 
function cycleTitleView(event) { 
    // STOP event propagation to prevent triggering the parent toggleTitleVisibility 
    event.stopPropagation(); 
    
    const titleElement = event.currentTarget; 
    const timerBox = titleElement.closest('.timer'); 
    const dataId = timerBox.getAttribute('data-id'); 
    const data = stopwatchData.find(d => d.id === dataId); 

    // If it's currently showing the date, revert back to the title 
    if (titleElement.classList.contains('date-view')) { 
        titleElement.textContent = titleElement.getAttribute('data-original-text'); 
        titleElement.classList.remove('date-view'); 
        
    // If it's currently visible (showing the title), switch to showing the date 
    } else if (titleElement.classList.contains('visible')) { 
        // Store original text if it hasn't been stored
        if (!titleElement.getAttribute('data-original-text')) { 
             const originalData = stopwatchData.find(d => d.id === dataId);
             titleElement.setAttribute('data-original-text', originalData.title); 
        } 
        titleElement.textContent = formatDateForDisplay(data.start); 
        titleElement.classList.add('date-view'); 
    } 
} 


// Function to handle initial visibility when clicking the main timer area
function toggleTitleVisibility(event) { 
    const titleElement = event.currentTarget.querySelector('.timer-title'); 
    if (titleElement) { 
        // If the title is hidden, show it and ensure it's in title view 
        if (!titleElement.classList.contains('visible')) { 
            titleElement.classList.add('visible'); 
            titleElement.classList.remove('date-view'); 
        }
    } 
} 


// Function to update a single stopwatch's time calculation (Kept) 
function calculateTime(start) { 
    const now = new Date(); 
    let diff = now - start; 
    
    if (diff < 0) { 
        return { days: '00', h: '00', min: '00', s: '00' }; 
    } 

    const totalSeconds = Math.floor(diff / 1000); 
    const days = Math.floor(totalSeconds / (3600 * 24)); 
    const secondsInDay = totalSeconds % (3600 * 24); 

    const h = String(Math.floor(secondsInDay / 3600)).padStart(2, '0'); 
    const min = String(Math.floor(secondsInDay / 60) % 60).padStart(2, '0'); 
    const s = String(totalSeconds % 60).padStart(2, '0'); 

    return { days, h, min, s }; 
} 

// Function that renders the currently active stopwatch HTML (Crucial fix for listeners)
function renderActiveStopwatch() { 
    const container = document.getElementById('active-stopwatch'); 
    const data = stopwatchData.find(d => d.id === activeStopwatchId); 
    
    if (!data) return; 

    // Create the full timer HTML structure
    container.innerHTML = ` 
        <div class="timer stopwatch" data-start-time="${data.start}" data-id="${data.id}"> 
            <div class="timer-content"> 
                <div class="timer-title">${data.title}</div> 
                <div class="stopwatch-display">Loading…</div> 
            </div> 
        </div> 
    `; 
    
    // Get references after rendering 
    const timerBox = container.querySelector('.timer'); 
    const contentBox = timerBox.querySelector('.timer-content');
    const titleBox = timerBox.querySelector('.timer-title'); 
    
    // 1. Attach the click listener to the content box for *initial reveal*
    contentBox.addEventListener('click', toggleTitleVisibility); 
    
    // 2. Attach the click listener directly to the title box for *cycling*
    titleBox.addEventListener('click', cycleTitleView); 

    // Update the dropdown active state 
    document.querySelectorAll('.dropdown-item').forEach(item => { 
        item.classList.remove('active'); 
        if (item.getAttribute('data-id') === activeStopwatchId) { 
            item.classList.add('active'); 
        } 
    }); 
} 

// Function to update the time of the *currently displayed* stopwatch (Kept) 
function updateActiveStopwatchTime() { 
    const timerBox = document.querySelector('#active-stopwatch .timer'); 
    if (!timerBox) return; 

    const startTimeString = timerBox.getAttribute('data-start-time'); 
    const start = new Date(startTimeString); 
    const time = calculateTime(start); 
    const displayElement = timerBox.querySelector('.stopwatch-display'); 

    // Render the stopwatch HTML 
    displayElement.innerHTML = 
        `<span><span class="highlight">${time.days}</span>Days</span> 
         <span><span class="highlight">${time.h}</span>Hours</span> 
         <span><span class="highlight">${time.min}</span>Minutes</span> 
         <span><span class="highlight">${time.s}</span>Seconds</span>`; 
} 


// --- RUNTIME INITIATION --- 
document.addEventListener('DOMContentLoaded', () => { 
    generateDropdown(); 
    renderActiveStopwatch(); // Render the default stopwatch on load 
    
    // Set up the interval to update only the active stopwatch's time 
    setInterval(updateActiveStopwatchTime, 1000); 
}); 

</script> 
</body> 
</html>
